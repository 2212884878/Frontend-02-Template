<html>
<head>
    <title> JavaScript 引擎里面 Realm 所有的对象</title>
<style>
    #container{
        width: 100%;
        height: 100%;
    }
</style>
</head>
<body>
    <div id="container"></div>
    <script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.g6-3.5.10/dist/g6.min.js"></script>
    <script>
        const width = document.getElementById('container').scrollWidth;
        const height = document.getElementById('container').scrollHeight || 500;
        console.log(width);
        console.log(height);
        // 定义数据源
        const data = {
            "id": "Realm标准内置对象",
            "children": [
                {
                    "id": "基本对象",
                    "children": [
                        {
                            "id": "Object"
                        },
                        {
                            "id": "Function"
                        },
                        {
                            "id": "Boolean"
                        },
                        {
                            "id": "Symbol"
                        },
                        {
                            "id": "Error"
                        },
                        {
                            "id": "AggregateError"
                        },
                        {
                            "id": "EvalError"
                        },
                        {
                            "id": "InternalError"
                        },
                        {
                            "id": "RangeError"
                        },
                        {
                            "id": "ReferenceError"
                        },
                        {
                            "id": "SyntaxError"
                        },
                        {
                            "id": "TypeError"
                        },
                        {
                            "id": "URIError"
                        }
                    ]
                },
                {
                    "id": "数字和日期对象",
                    "children": [
                        {
                            "id": "Number"
                        },
                        {
                            "id": "BigInt"
                        },
                        {
                            "id": "Math"
                        },
                        {
                            "id": "Date"
                        }
                    ]
                },
                {
                    "id": "字符串",
                    "children": [
                        {
                            "id": "String"
                        },
                        {
                            "id": "RegExp"
                        }
                    ]
                },
                {
                    "id": "可索引的集合对象",
                    "children": [
                        {
                            "id": "Array"
                        },
                        {
                            "id": "Int8Array"
                        },
                        {
                            "id": "Uint8Array"
                        },
                        {
                            "id": "Uint8ClampedArray"
                        },
                        {
                            "id": "Int16Array"
                        },
                        {
                            "id": "Uint16Array"
                        },
                        {
                            "id": "Int32Array"
                        },
                        {
                            "id": "Uint32Array"
                        },
                        {
                            "id": "Float32Array"
                        },
                        {
                            "id": "Float64Array"
                        },
                        {
                            "id": "BigInt64Array"
                        },
                        {
                            "id": "BigUint64Array"
                        }
                    ]
                },
                {
                    "id": "使用键的集合对象",
                    "children": [
                        {
                            "id": "Map"
                        },
                        {
                            "id": "Set"
                        },
                        {
                            "id": "WeakMap"
                        },
                        {
                            "id": "WeakSet"
                        }
                    ]
                },
                {
                    "id": "结构化数据",
                    "children": [
                        {
                            "id": "ArrayBuffer"
                        },
                        {
                            "id": "SharedArrayBuffer"
                        },
                        {
                            "id": "Atomics"
                        },
                        {
                            "id": "DataView"
                        },
                        {
                            "id": "JSON"
                        }
                    ]
                },
                {
                    "id": "控制抽象对象",
                    "children": [
                        {
                            "id": "Promise"
                        },
                        {
                            "id": "Generator"
                        },
                        {
                            "id": "GeneratorFunction"
                        },
                        {
                            "id": "AsyncFunction"
                        }
                    ]
                },
                {
                    "id": "反射",
                    "children": [
                        {
                            "id": "Reflect"
                        },
                        {
                            "id": "Proxy"
                        }
                    ]
                },
                {
                    "id": "国际化",
                    "children": [
                        {
                            "id": "Intl"
                        },
                        {
                            "id": "Intl.Collator"
                        },
                        {
                            "id": "Intl.DateTimeFormat"
                        },
                        {
                            "id": "Intl.ListFormat"
                        },
                        {
                            "id": "Intl.NumberFormat"
                        },
                        {
                            "id": "Intl.PluralRules"
                        },
                        {
                            "id": "Intl.RelativeTimeFormat"
                        },
                        {
                            "id": "Intl.Locale"
                        }
                    ]
                },
                {
                    "id": "WebAssembly",
                    "children": [
                        {
                            "id": "WebAssembly"
                        },
                        {
                            "id": "WebAssembly.Module"
                        },
                        {
                            "id": "WebAssembly.Instance"
                        },
                        {
                            "id": "WebAssembly.Memory"
                        },
                        {
                            "id": "WebAssembly.Table"
                        },
                        {
                            "id": "WebAssembly.CompileError"
                        },
                        {
                            "id": "WebAssembly.LinkError"
                        },
                        {
                            "id": "WebAssembly.RuntimeError"
                        }
                    ]
                },
                {
                    "id": "其他",
                    "children": [
                        {
                            "id": "arguments"
                        }
                    ]
                }
            ]
        };
    
        // 创建 G6 图实例
        const graph = new G6.TreeGraph({
            container: 'container',
            width,
            height,
            modes: {
                default: [
                {
                    type: 'collapse-expand',
                    onChange: function onChange(item, collapsed) {
                    const data = item.get('model').data;
                    data.collapsed = collapsed;
                    return true;
                    },
                },
                'drag-canvas',
                'zoom-canvas',
                ],
            },
            defaultNode: {
                size: 26,
                anchorPoints: [
                [0, 0.5],
                [1, 0.5],
                ],
                style: {
                fill: '#C6E5FF',
                stroke: '#5B8FF9',
                },
            },
            defaultEdge: {
                type: 'cubic-horizontal',
                style: {
                stroke: '#A3B1BF',
                },
            },
            layout: {
                type: 'mindmap',
                direction: 'H',
                getHeight: () => {
                return 16;
                },
                getWidth: () => {
                return 16;
                },
                getVGap: () => {
                return 10;
                },
                getHGap: () => {
                return 50;
                },
            },
        });

            let centerX = 0;
        graph.node(function(node) {
            if (node.id === 'Modeling Methods') {
                centerX = node.x;
            }

            return {
                label: node.id,
                labelCfg: {
                position:
                    node.children && node.children.length > 0
                    ? 'left'
                    : node.x > centerX
                    ? 'right'
                    : 'left',
                offset: 5,
                },
            };
        });
        // 读取数据
        graph.data(data);
        // 渲染图
        graph.render();
        graph.fitView();
    </script>
</body>
</html>
